{"filter":false,"title":"pdfs_helper.rb","tooltip":"/Hora_ARMS/app/helpers/admins/pdfs_helper.rb","undoManager":{"mark":6,"position":6,"stack":[[{"start":{"row":0,"column":25},"end":{"row":0,"column":26},"action":"insert","lines":["]"],"id":2}],[{"start":{"row":0,"column":26},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":1,"column":0},"end":{"row":1,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":2},"action":"remove","lines":["  "],"id":4},{"start":{"row":0,"column":26},"end":{"row":1,"column":0},"action":"remove","lines":["",""]},{"start":{"row":0,"column":25},"end":{"row":0,"column":26},"action":"remove","lines":["]"]}],[{"start":{"row":0,"column":25},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":5},{"start":{"row":1,"column":0},"end":{"row":1,"column":2},"action":"insert","lines":["  "]},{"start":{"row":1,"column":2},"end":{"row":2,"column":0},"action":"insert","lines":["",""]},{"start":{"row":2,"column":0},"end":{"row":2,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":2,"column":2},"end":{"row":60,"column":5},"action":"insert","lines":["#遅刻","  def behind_time(start_working_hour, attendance_start_worktime)","    hour1 = start_working_hour.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[0].to_i","    if attendance_start_worktime","      hour2 = attendance_start_worktime.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[0].to_i","    end","    minute1 = start_working_hour.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[1].to_i","    if attendance_start_worktime","      minute2 = attendance_start_worktime.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[1].to_i","    end","","    if attendance_start_worktime","      if hour2 >= hour1 && minute2 > minute1    #8:55 8:56","        \"#{hour2 - hour1}:#{minute2 - minute1}\"","      elsif hour2 > hour1 && minute2 <= minute1 #8:59 9:00","        \"#{hour2 - hour1 - 1}:#{minute2 + minute1}\"","      end","    end","  end","","  #早退","  def leave_early(finish_working_hour, attendance_finish_worktime)","    hour1 = finish_working_hour.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[0].to_i","    if attendance_finish_worktime","      hour2 = attendance_finish_worktime.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[0].to_i","    end","    minute1 = finish_working_hour.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[1].to_i","    if attendance_finish_worktime","      minute2 = attendance_finish_worktime.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[1].to_i","    end","","    if attendance_finish_worktime","      if hour1 >= hour2 && minute1 > minute2    #17:30 17:05","        \"#{hour1 - hour2}:#{minute1 - minute2}\"","      elsif hour1 > hour2 && minute1 <= minute2 #17:30 16:50","        \"#{hour1 - hour2 - 1}:#{60 - (minute2 - minute1)}\"","      end","    end","  end","","  #残業","  def overtime(finish_working_hour, attendance_finish_worktime)","    hour1 = finish_working_hour.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[0].to_i","    if attendance_finish_worktime","      hour2 = attendance_finish_worktime.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[0].to_i","    end","    minute1 = finish_working_hour.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[1].to_i","    if attendance_finish_worktime","      minute2 = attendance_finish_worktime.to_s.match(/\\d{2}:\\d{2}/)[0].split(\":\")[1].to_i","    end","","    if attendance_finish_worktime","      if hour1 < hour2 && minute1 >= minute2    #17:30 18:06","        \"#{hour2 - hour1 - 1}:#{60 - (minute1 - minute2)}\"","      elsif hour1 <= hour2 && minute1 < minute2 #17:30 17:50","        \"#{hour2 - hour1}:#{minute2 - minute1}\"","      end","    end","  end"],"id":6}],[{"start":{"row":60,"column":5},"end":{"row":61,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":2},"action":"remove","lines":["  "],"id":8},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"remove","lines":["  "]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":9,"column":32},"end":{"row":9,"column":32},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":3,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1688018439884,"hash":"6c0ab880ae47fc3b9886f27379c05950a28bb5db"}